"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[317],{4211:(e,t,a)=>{a.d(t,{Ay:()=>c});var s=a(9786),l=a(991),r=a(1609),n=a(3691),c=(a(2294),a(5795),a(7318),(0,r.forwardRef)((function(e,t){var a=(0,s.u)(e);return r.createElement(n.S,(0,l.A)({ref:t},a))})))},8317:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(1609),l=a(6427),r=a(6087),n=a(7723),c=a(8468),o=a(4211),m=a(7742),u=a(5908),d=a(5028);const i=({onSelect:e})=>{const{schemaLinks:t}=(0,r.useContext)(m.b);let a={};Object.values(t).forEach((e=>{const t=(s=e,(0,c.deburr)(s).toLowerCase().replace(/[^a-z0-9_]/g,"_").replace(/[ _]{2,}/g,"_").replace(/^_/,"").replace(/_$/,"").replace(/^\d+/,"").replace(/^_/,"").replace(/_$/,""));var s;a[`schemas.${t}`]=e}));const l=[...SSSchema.variables,{label:(0,n.__)("Schema","slim-seo-schema"),options:a}];return(0,s.createElement)(d.A,{items:l,group:!0,hasSearch:!0,onSelect:e})},p=({setShowModal:e,setValue:t})=>{const{data:a}=(0,u.A)({api:"meta_keys",defaultValue:[]}),l=()=>e(!1);return(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"sss-modal-overlay",onClick:l}),(0,s.createElement)("div",{className:"sss-modal-body"},(0,s.createElement)("h3",{className:"sss-modal-heading"},(0,n.__)("Select a custom field","slim-seo-schema"),(0,s.createElement)("span",{className:"sss-modal__close",onClick:l},"Ã—")),(0,s.createElement)(o.Ay,{classNamePrefix:"react-select",options:a,defaultOptions:!0,onChange:a=>{t(`{{ post.custom_field.${a.value} }}`),e(!1)}})))},h=({inputRef:e,extraInputRef:t})=>{const[a,n]=(0,r.useState)(!1),c=a=>{e.current.value+=a,t&&(t.current.value+=a)};return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(l.Dropdown,{className:"sss-dropdown sss-inserter",position:"bottom left",renderToggle:({onToggle:e})=>(0,s.createElement)(l.Button,{tabIndex:"-1",icon:"ellipsis",onClick:e}),renderContent:({onToggle:e})=>(0,s.createElement)(i,{onSelect:t=>((e,t)=>{t(),"post.custom_field"!==e.target.dataset.value?c(`{{ ${e.target.dataset.value} }}`):n(!0)})(t,e)})}),a&&(0,s.createElement)(p,{setShowModal:n,setValue:c}))}}}]);