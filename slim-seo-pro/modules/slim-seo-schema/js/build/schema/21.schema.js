"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[21,317],{4211:(e,t,a)=>{a.d(t,{Ay:()=>c});var l=a(9786),s=a(991),n=a(1609),r=a(3691),c=(a(2294),a(5795),a(7318),(0,n.forwardRef)((function(e,t){var a=(0,l.u)(e);return n.createElement(r.S,(0,s.A)({ref:t},a))})))},8317:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var l=a(1609),s=a(6427),n=a(6087),r=a(7723),c=a(8468),o=a(4211),m=a(7742),u=a(5908),i=a(5028);const d=({onSelect:e})=>{const{schemaLinks:t}=(0,n.useContext)(m.b);let a={};Object.values(t).forEach((e=>{const t=(l=e,(0,c.deburr)(l).toLowerCase().replace(/[^a-z0-9_]/g,"_").replace(/[ _]{2,}/g,"_").replace(/^_/,"").replace(/_$/,"").replace(/^\d+/,"").replace(/^_/,"").replace(/_$/,""));var l;a[`schemas.${t}`]=e}));const s=[...SSSchema.variables,{label:(0,r.__)("Schema","slim-seo-schema"),options:a}];return(0,l.createElement)(i.A,{items:s,group:!0,hasSearch:!0,onSelect:e})},p=({setShowModal:e,setValue:t})=>{const{data:a}=(0,u.A)({api:"meta_keys",defaultValue:[]}),s=()=>e(!1);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"sss-modal-overlay",onClick:s}),(0,l.createElement)("div",{className:"sss-modal-body"},(0,l.createElement)("h3",{className:"sss-modal-heading"},(0,r.__)("Select a custom field","slim-seo-schema"),(0,l.createElement)("span",{className:"sss-modal__close",onClick:s},"Ã—")),(0,l.createElement)(o.Ay,{classNamePrefix:"react-select",options:a,defaultOptions:!0,onChange:a=>{t(`{{ post.custom_field.${a.value} }}`),e(!1)}})))},E=({inputRef:e,extraInputRef:t})=>{const[a,r]=(0,n.useState)(!1),c=a=>{e.current.value+=a,t&&(t.current.value+=a)};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.Dropdown,{className:"sss-dropdown sss-inserter",position:"bottom left",renderToggle:({onToggle:e})=>(0,l.createElement)(s.Button,{tabIndex:"-1",icon:"ellipsis",onClick:e}),renderContent:({onToggle:e})=>(0,l.createElement)(d,{onSelect:t=>((e,t)=>{t(),"post.custom_field"!==e.target.dataset.value?c(`{{ ${e.target.dataset.value} }}`):r(!0)})(t,e)})}),a&&(0,l.createElement)(p,{setShowModal:r,setValue:c}))}},9021:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var l=a(1609),s=a(8114),n=a(6427),r=a(6087),c=a(7723),o=a(9262),m=a(8317);const u=({name:e,item:t,removeItem:a})=>{const s=(0,r.useRef)();return(0,l.createElement)("div",{className:"sss-custom"},(0,l.createElement)("input",{type:"hidden",name:`${e}[id]`,defaultValue:t.id}),(0,l.createElement)("input",{type:"text",placeholder:"Enter key",name:`${e}[key]`,defaultValue:t.key}),(0,l.createElement)("div",{className:"sss-input-wrapper"},(0,l.createElement)("input",{type:"text",placeholder:"Enter value",name:`${e}[value]`,defaultValue:t.value,ref:s}),(0,l.createElement)(m.default,{inputRef:s})),(0,l.createElement)("button",{type:"button",className:"sss-custom__remove",title:(0,c.__)("Remove","meta-box-builder"),onClick:()=>a(t.id)},(0,l.createElement)(n.Dashicon,{icon:"dismiss"})))},i=({property:e,className:t,deleteProp:a})=>{const{id:n,label:m,required:i,std:d,tooltip:p}=e,[E,v]=(0,r.useState)(Object.values(d||{})),f=e=>v((t=>t.filter((t=>t.id!==e))));return(0,l.createElement)(s.Ec,{className:t,label:m,id:n,required:i,tooltip:p},E.map((e=>(0,l.createElement)(u,{key:e.id,item:e,removeItem:f,name:`${n}[${e.id}]`}))),(0,l.createElement)("button",{type:"button",className:"button",onClick:()=>v((e=>[...e,{key:"",value:"",id:(0,o.z0)()}]))},(0,c.__)("+ Add New","slim-seo-schema")))}}}]);