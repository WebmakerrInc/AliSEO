"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[317,625],{4211:(e,t,a)=>{a.d(t,{Ay:()=>n});var l=a(9786),s=a(991),r=a(1609),o=a(3691),n=(a(2294),a(5795),a(7318),(0,r.forwardRef)((function(e,t){var a=(0,l.u)(e);return r.createElement(o.S,(0,s.A)({ref:t},a))})))},6625:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var l=a(1609),s=a(8114),r=a(6427),o=a(6087),n=a(8610),c=a(8317);const i=(0,o.memo)((({className:e,property:t,deleteProp:a})=>{const i=(0,o.useRef)(),{id:m,label:u,required:d,std:p,tooltip:f}=t;return(0,l.createElement)(s.Ec,{className:e,label:u,id:m,required:d,tooltip:f},(0,l.createElement)("div",{className:"sss-input-wrapper"},(0,l.createElement)("input",{type:"text",id:m,name:m,defaultValue:p,ref:i}),(0,l.createElement)(r.Button,{icon:"format-image",onClick:e=>{e.preventDefault();let t=wp.media({multiple:!1,title:SSSchema.mediaPopupTitle});t.open(),t.off("select"),t.on("select",(()=>{const e=t.state().get("selection").first().toJSON().url;i.current.value+=e}))},className:"sss-insert-image"}),(0,l.createElement)(c.default,{inputRef:i})),d||(0,l.createElement)(n.A,{id:m,deleteProp:a}))}),((e,t)=>e.property.id===t.property.id))},8317:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var l=a(1609),s=a(6427),r=a(6087),o=a(7723),n=a(8468),c=a(4211),i=a(7742),m=a(5908),u=a(5028);const d=({onSelect:e})=>{const{schemaLinks:t}=(0,r.useContext)(i.b);let a={};Object.values(t).forEach((e=>{const t=(l=e,(0,n.deburr)(l).toLowerCase().replace(/[^a-z0-9_]/g,"_").replace(/[ _]{2,}/g,"_").replace(/^_/,"").replace(/_$/,"").replace(/^\d+/,"").replace(/^_/,"").replace(/_$/,""));var l;a[`schemas.${t}`]=e}));const s=[...SSSchema.variables,{label:(0,o.__)("Schema","slim-seo-schema"),options:a}];return(0,l.createElement)(u.A,{items:s,group:!0,hasSearch:!0,onSelect:e})},p=({setShowModal:e,setValue:t})=>{const{data:a}=(0,m.A)({api:"meta_keys",defaultValue:[]}),s=()=>e(!1);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"sss-modal-overlay",onClick:s}),(0,l.createElement)("div",{className:"sss-modal-body"},(0,l.createElement)("h3",{className:"sss-modal-heading"},(0,o.__)("Select a custom field","slim-seo-schema"),(0,l.createElement)("span",{className:"sss-modal__close",onClick:s},"Ã—")),(0,l.createElement)(c.Ay,{classNamePrefix:"react-select",options:a,defaultOptions:!0,onChange:a=>{t(`{{ post.custom_field.${a.value} }}`),e(!1)}})))},f=({inputRef:e,extraInputRef:t})=>{const[a,o]=(0,r.useState)(!1),n=a=>{e.current.value+=a,t&&(t.current.value+=a)};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.Dropdown,{className:"sss-dropdown sss-inserter",position:"bottom left",renderToggle:({onToggle:e})=>(0,l.createElement)(s.Button,{tabIndex:"-1",icon:"ellipsis",onClick:e}),renderContent:({onToggle:e})=>(0,l.createElement)(d,{onSelect:t=>((e,t)=>{t(),"post.custom_field"!==e.target.dataset.value?n(`{{ ${e.target.dataset.value} }}`):o(!0)})(t,e)})}),a&&(0,l.createElement)(p,{setShowModal:o,setValue:n}))}},8610:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(1609),s=a(6427),r=a(7723);function o({id:e,deleteProp:t}){return(0,l.createElement)(s.Dashicon,{className:"sss-field__remove",icon:"dismiss",onClick:a=>{confirm((0,r.__)("Are you sure you want to delete?"))&&(a.stopPropagation(),t(e))}})}}}]);