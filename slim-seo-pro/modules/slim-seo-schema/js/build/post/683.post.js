"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[620,683],{2097:(e,t,a)=>{a.d(t,{Ay:()=>c});var l=a(8184),r=a(811),s=a(1609),n=a(5346),c=(a(2096),a(5795),a(6045),(0,s.forwardRef)(function(e,t){var a=(0,l.u)(e);return s.createElement(n.S,(0,r.A)({ref:t},a))}))},3239:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var l=a(1609),r=a(6427),s=a(6087),n=a(7723),c=a(8468),o=a(2097),u=a(3079),d=a(4295),i=a(395);const m=({onSelect:e})=>{const{schemaLinks:t}=(0,s.useContext)(u.b);let a={};Object.values(t).forEach(e=>{const t=(l=e,(0,c.deburr)(l).toLowerCase().replace(/[^a-z0-9_]/g,"_").replace(/[ _]{2,}/g,"_").replace(/^_/,"").replace(/_$/,"").replace(/^\d+/,"").replace(/^_/,"").replace(/_$/,""));var l;a[`schemas.${t}`]=e});const r=[...SSSchema.variables,{label:(0,n.__)("Schema","slim-seo-schema"),options:a}];return(0,l.createElement)(i.A,{items:r,group:!0,hasSearch:!0,onSelect:e})},p=({setShowModal:e,setValue:t})=>{const{data:a}=(0,d.A)({api:"meta_keys",defaultValue:[]}),r=()=>e(!1);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"sss-modal-overlay",onClick:r}),(0,l.createElement)("div",{className:"sss-modal-body"},(0,l.createElement)("h3",{className:"sss-modal-heading"},(0,n.__)("Select a custom field","slim-seo-schema"),(0,l.createElement)("span",{className:"sss-modal__close",onClick:r},"Ã—")),(0,l.createElement)(o.Ay,{classNamePrefix:"react-select",options:a,defaultOptions:!0,onChange:a=>{t(`{{ post.custom_field.${a.value} }}`),e(!1)}})))},f=({inputRef:e,extraInputRef:t})=>{const[a,n]=(0,s.useState)(!1),c=a=>{e.current.value+=a,t&&(t.current.value+=a)};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.Dropdown,{className:"sss-dropdown sss-inserter",position:"bottom left",renderToggle:({onToggle:e})=>(0,l.createElement)(r.Button,{tabIndex:"-1",icon:"ellipsis",onClick:e}),renderContent:({onToggle:e})=>(0,l.createElement)(m,{onSelect:t=>((e,t)=>{t(),"post.custom_field"!==e.target.dataset.value?c(`{{ ${e.target.dataset.value} }}`):n(!0)})(t,e)})}),a&&(0,l.createElement)(p,{setShowModal:n,setValue:c}))}},7683:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var l=a(1609),r=a(3891),s=a(6087),n=a(9739),c=a(3239);const o=(0,s.memo)(({className:e,property:t,setProperties:a,deleteProp:o})=>{const u=(0,s.useRef)(),d=(0,s.useRef)(),{id:i,label:m,required:p,std:f,tooltip:v,options:E}=t,h=i.replace("[fields]",""),g=Array.isArray(E)?E:Object.entries(E).reduce((e,[t,a])=>[...e,{value:t,label:a}],[]),_=e=>{t.dependant&&a(t=>t.map(t=>{if(!t.dependency)return t;const a=t.dependency.split(":")[1]!==e;return{...t,hidden:a}}))};return(0,s.useEffect)(()=>{_(f)},[]),(0,l.createElement)(r.Ec,{className:e,label:m,id:i,required:p,tooltip:v},(0,l.createElement)("input",{type:"hidden",ref:u,name:i,defaultValue:f}),(0,l.createElement)("div",{className:"sss-input-wrapper"},(0,l.createElement)("input",{type:"text",list:h,ref:d,onChange:e=>{u.current.value=g.reduce((e,{value:t,label:a})=>e.replace(a,t),e.target.value),_(u.current.value)},defaultValue:g.reduce((e,{value:t,label:a})=>String(e).replace(t,a),f)}),(0,l.createElement)(c.default,{inputRef:u,extraInputRef:d})),(0,l.createElement)("datalist",{id:h},g.map(e=>(0,l.createElement)("option",{key:e.value},e.label))),p||(0,l.createElement)(n.A,{id:i,deleteProp:o}))},(e,t)=>e.property.id===t.property.id)},9739:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(1609),r=a(6427),s=a(7723);function n({id:e,deleteProp:t}){return(0,l.createElement)(r.Dashicon,{className:"sss-field__remove",icon:"dismiss",onClick:a=>{confirm((0,s.__)("Are you sure you want to delete?"))&&(a.stopPropagation(),t(e))}})}}}]);