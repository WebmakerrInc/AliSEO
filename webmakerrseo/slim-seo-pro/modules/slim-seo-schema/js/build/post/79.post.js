"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[79],{4079:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(1609),n=s(3891),l=s(6427),r=s(6087),o=s(7723),i=s(9739),d=s(395);const c=(0,r.forwardRef)(function({icon:e,size:t=24,...s},a){return(0,r.cloneElement)(e,{width:t,height:t,...s,ref:a})});var m=s(5573),p=s(6070);const u=(0,p.jsx)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(m.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});var h=s(8835);const{useState:_,useReducer:f}=wp.element,v=({id:e,deleteProp:t})=>(0,a.createElement)("span",{className:"sss-panel__action sss-panel__action--delete",title:(0,o.__)("Remove","slim-seo-schema"),onClick:s=>{confirm((0,o.__)("Are you sure you want to delete?"))&&(s.stopPropagation(),t(e))}},(0,a.createElement)(c,{icon:u}));function E({title:e,defaultExpanded:t=!1,className:s,children:n,required:l,id:r,deleteProp:i}){const[d,c]=f(e=>!e,t),m=(0,h.default)("sss-panel",s,{"sss-panel--expanded":d}),p="dashicons-"+(d?"arrow-up-alt2":"arrow-down-alt2");return e?(0,a.createElement)("div",{className:m},e&&(0,a.createElement)("div",{className:"sss-panel__header"},(0,a.createElement)("div",{className:"sss-panel__title sss-column--title"},e),(0,a.createElement)("span",{className:"sss-panel__space sss-column--space",onClick:c,title:(0,o.__)("Click to reveal schema settings","slim-seo-schema")}),(0,a.createElement)("div",{className:"sss-panel__actions sss-column--actions"},!l&&(0,a.createElement)(v,{deleteProp:i,id:r}),(0,a.createElement)("button",{type:"button",onClick:c,className:`sss-panel__action dashicons ${p}`}))),(0,a.createElement)("div",{className:"sss-panel__body"},n)):n}var w=s(9608);const g=(0,r.memo)(({property:e,deleteProp:t})=>{const[s,c]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[u,h]=(0,r.useState)([]),_=e.std||{},{id:f}=e;(0,r.useEffect)(()=>{c(()=>e.fields.map(e=>{const t=v(e)||e.required||e.show,s=e.name?`${f}[${e.name}]`:`${f}`,a=`${s}[${e.id}]`,n=g(e);return{...e,id:a,std:n,parentID:s,visible:t,hidden:!1}}))},[]),(0,r.useEffect)(()=>{p(()=>s.filter(e=>e.visible&&!e.hidden)),h(()=>s.filter(e=>!e.visible&&!e.hidden))},[s]);const v=e=>e.name?!!_[e.name]&&_[e.name].hasOwnProperty(e.id):_.hasOwnProperty(e.id),g=e=>{const t=e.std||"";return e.name?_[e.name]&&_[e.name][e.id]||t:_[e.id]||t},b=e=>{const t=m.filter(t=>t.id===e);p(t=>t.filter(t=>t.id!==e)),h(e=>[...e,...t])},{cloneable:P,cloneItemHeading:k,label:y,tooltip:N,panelNoBorder:A}=e,C=k||"",x=e.required&&!P,T=!P&&y,S=!P||A?"sss-panel--no-border":"";return(0,a.createElement)(n.Ec,{label:T,id:e.id,required:x,tooltip:N},(0,a.createElement)(E,{title:C,className:S,required:x,defaultExpanded:!0,deleteProp:t,id:e.id},m.map(e=>(0,a.createElement)(w.A,{key:e.id,property:e,setProperties:c,properties:s,deleteProp:b})),Object.keys(u).length>0&&(0,a.createElement)(l.Dropdown,{className:"sss-dropdown",popoverProps:{placement:"bottom-start",noArrow:!1},renderToggle:({isOpen:e,onToggle:t})=>(0,a.createElement)(l.Button,{variant:"link",onClick:t,onBlur:s=>((e,t,s)=>{e.relatedTarget&&e.relatedTarget.closest(".components-popover")||!s||t()})(s,t,e),"aria-expanded":e},(0,o.__)("+ Add Property","slim-seo-schema")),renderContent:({onToggle:e})=>(0,a.createElement)(d.A,{items:u,onSelect:t=>((e,t)=>{t();const s=e.target.dataset.id;let a=u.filter(e=>e.id===s);a=a.map(e=>({...e,std:""})),p(e=>[...e,...a]),h(e=>e.filter(e=>e.id!==s))})(t,e)})}),x||(0,a.createElement)(i.A,{id:f,deleteProp:t})))})},9739:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(1609),n=s(6427),l=s(7723);function r({id:e,deleteProp:t}){return(0,a.createElement)(n.Dashicon,{className:"sss-field__remove",icon:"dismiss",onClick:s=>{confirm((0,l.__)("Are you sure you want to delete?"))&&(s.stopPropagation(),t(e))}})}}}]);